# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/styles/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Используемые классы

### *МОДЕЛЬ*

__Класс Api__
Позволяет направлять, получать и обрабатывать данные с сервера. Методы класса:
* handleResponse - обрабатывает ответ с сервера
* get - позволяет получить данные с сервера
* post - позволяет направить данные на сервер

__Класс CatalogModel__
Позволяет преобразовать полученные данные для последующего отображения. Методы класса: 
* setCatalog - обновляет каталог товаров, преобразуя переданный массив объектов в товары необходимого типа
* setPreview - устанавливает товар для предварительного просмотра 

__Класс BasketModel__
Позволяет сохранять и изменять содержимое корзины. Методы класса:
* add - позволяет добавить товар в массив корзины
* remove - позволяет удалить товар из массива корзины
* getTotalPrice - счетчик для получения общей стоимости товаров
* countProducts - счетчик количества товаров в корзине

__Класс OrderModel__
Позволяет сохранять данные о покупателе и его заказе. Методы класса: 
* setOrderAddress - позволяет сохранить адрес покупателя
* validateOrder - позволяет проверить адрес покупателя и выбор способа оплаты
* setOrderContacts - позволяет сохранить контактные данные покупателя
* validateContacts - позволяет проверить контактные данные покупателя
* getOrderLot - возвращает объект данных о заказе и покупателе

### *ОТОБРАЖЕНИЕ*

__Класс Component__ 
Является абстрактным классом, позволяет управлять DOM-элементами. Все указанные классы отображения будут расширять данный класс. Методы класса: 
* toggleClass - переключает класс элемента
* setText - устанавливает текстовое содержимое элемента
* setDisabled - переключает статус блокировки элемента
* setHidden - скрывает элемент
* setVisible - показывает элемент
* render - перерисовывает элемент 

__Класс Page__
Позволяет отобразить главную страницу приложения и изменять ее при необходимости. Методы класса:
* setCatalog - отрисовывает каталог товаров на странице
* countBasketItems - отоборажает количество товаров в корзине

__Класс Card__
Наполняет содержимым и отрисовывает карточку товара. Содержит сеттеры и геттеры для получения и установления значения полей карточки.

__Класс Basket__
Управляет отображением содержимого корзины. Методы класса: 
* disableBtn - позволяет заблокировать кнопку "Оформить", если корзина пуста

__Класс PopupOrder__
Управляет формой заказа. Методы класса:
* disableBtn - позволяет заблокировать кнопку "Далее", если не заполнена форма

__Класс PopupContacts__
Управляет формой заполнения контактных данных. Методы класса:
* disableBtn - позволяет заблокировать кнопку "Далее", если не заполнена форма

__Класс PopupSucces__
Управляет отображением окна успешного оформления заказа.


### *ПРЕЗЕНТЕР*

__Класс EventEmitter__
Предназначен для управления событиями и их подписчиками. Методы класса:
* on - устанавливает обработчик на указанное событие
* off - удаляет обработчик с указанного события
* emit - вызывает обработчик для определенного события
* onAll - устанавливает обработчик, который будет вызываться для всех событий
* offAll - сбрасывает все обработчики событий
* trigger - создает функцию-колбек, генерирующую событие при вызове

В работе будет использован ряд событий, о которых будут оповещаться подписчики. Например, изменение товаров в корзине потребует внесение изменений в модель и новое отображение корзины. 
